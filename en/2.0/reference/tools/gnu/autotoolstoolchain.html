



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AutotoolsToolchain &mdash; conan 2.0.0-beta documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/conan-favicon.png"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  


  
    <link rel="stylesheet" href="../../../_static/css/signup.css" type="text/css" />
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/css/select2.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../../../_static/css/search.css" type="text/css" />
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="conan 2.0.0-beta documentation" href="../../../index.html"/>
        <link rel="up" title="conan.tools.gnu" href="../gnu.html"/>
        <link rel="next" title="Autotools" href="autotools.html"/>
        <link rel="prev" title="AutotoolsDeps" href="autotoolsdeps.html"/>

 <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WK44ZFM');</script>
<!-- End Google Tag Manager -->
 



</script>


  

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://conan.io">
          

          
            
            <img src="../../../_static/conan-logo-2.0.png" class="logo" />
          
          </a>

            

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../whatsnew.html">What’s new in Conan 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../commands.html">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../conanfile.html">conanfile.py</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../tools.html">Tools</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../cmake.html">conan.tools.cmake</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../gnu.html">conan.tools.gnu</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="autotoolsdeps.html">AutotoolsDeps</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">AutotoolsToolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="autotools.html">Autotools</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkgconfigdeps.html">PkgConfigDeps</a></li>
<li class="toctree-l4"><a class="reference internal" href="pkgconfig.html">PkgConfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../apple.html">conan.tools.apple</a></li>
<li class="toctree-l3"><a class="reference internal" href="../env.html">conan.tools.env</a></li>
<li class="toctree-l3"><a class="reference internal" href="../build.html">conan.tools.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="../files.html">conan.tools.files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../meson.html">conan.tools.meson</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system.html">conan.tools.system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../microsoft.html">conan.tools.microsoft</a></li>
<li class="toctree-l3"><a class="reference internal" href="../scm.html">Git</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../extensions.html">Extensions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
</ul>

            
          
          <div class="dark_newsletter-div">
             <p>Sign up for release updates:</p>
              <script src="https://app-lon04.marketo.com/js/forms2/js/forms2.min.js"></script>
              <form id="mktoForm_1479"></form>
              <script>MktoForms2.loadForm("https://app-lon04.marketo.com", "256-FNZ-187", 1479);</script>
          </div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">conan</a>
        
      </nav>


      
      <script>
        var reldir = "../../../index.html".replace("index.html","").replace("#", "");
      </script>
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation" id="breadcrumbs">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../../tools.html">Tools</a> &raquo;</li>
        
          <li><a href="../gnu.html">conan.tools.gnu</a> &raquo;</li>
        
      <li>AutotoolsToolchain</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conan-io/docs/blob/master/reference/tools/gnu/autotoolstoolchain.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
</div>
          <!--<select id="search" name="state" multiple="true" onchange="window.location = reldir + this.value;" style="width:90%"></select>
          <hr/>-->
          <!--<div class="admonition important">
            <p class="admonition-title">Announcement</p>
            <p>Conan 2.0 Livestream and Workshop! Join us and get hands on experience upgrading recipes. <a
            href=https://blog.conan.io/2022/10/12/cooking-with-conan-cci-v2-livestream.html> Please refer this blog post for more detail.</a>
          </div>-->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="autotoolstoolchain">
<span id="conan-tools-gnu-autotools-toolchain"></span><h1>AutotoolsToolchain<a class="headerlink" href="#autotoolstoolchain" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">AutotoolsToolchain</span></code> is the toolchain generator for Autotools. It will generate shell scripts containing
environment variable definitions that the autotools build system can understand.</p>
<p>This generator can be used by name in conanfiles:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">conanfile.py</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pkg</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">generators</span> <span class="o">=</span> <span class="s2">&quot;AutotoolsToolchain&quot;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">conanfile.txt</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[generators]
AutotoolsToolchain
</pre></div>
</div>
</div>
<p>And it can also be fully instantiated in the conanfile <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.gnu</span> <span class="kn">import</span> <span class="n">AutotoolsToolchain</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">AutotoolsToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="generated-files">
<h2>Generated files<a class="headerlink" href="#generated-files" title="Permalink to this headline">¶</a></h2>
<p>It will generate the file <code class="docutils literal notranslate"><span class="pre">conanautotoolstoolchain.sh</span></code> or <code class="docutils literal notranslate"><span class="pre">conanautotoolstoolchain.bat</span></code> files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conan install conanfile.py <span class="c1"># default is Release</span>
$ <span class="nb">source</span> conanautotoolstoolchain.sh
<span class="c1"># or in Windows</span>
$ conanautotoolstoolchain.bat
</pre></div>
</div>
<p>This launchers will append information to the <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>,
<code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code> environment variables that translate the settings and options to the
corresponding build flags like <code class="docutils literal notranslate"><span class="pre">-stdlib=libstdc++</span></code>, <code class="docutils literal notranslate"><span class="pre">-std=gnu14</span></code>, architecture flags,
etc. It will also append the folder where the Conan generators are located to the
<code class="docutils literal notranslate"><span class="pre">PKG_CONFIG_PATH</span></code> environment variable.</p>
<p>This generator will also generate a file called <code class="docutils literal notranslate"><span class="pre">conanbuild.conf</span></code> containing two keys:</p>
<ul class="simple">
<li><strong>configure_args</strong>: Arguments to call the <code class="docutils literal notranslate"><span class="pre">configure</span></code> script.</li>
<li><strong>make_args</strong>: Arguments to call the <code class="docutils literal notranslate"><span class="pre">make</span></code> script.</li>
<li><strong>autoreconf_args</strong>: Arguments to call the <code class="docutils literal notranslate"><span class="pre">autoreconf</span></code> script.</li>
</ul>
<p>The <a class="reference internal" href="autotools.html#conan-tools-gnu-build-helper"><span class="std std-ref">Autotools build helper</span></a> will use that <code class="docutils literal notranslate"><span class="pre">conanbuild.conf</span></code> file to seamlessly call
the configure and make script using these precalculated arguments.</p>
</div>
<div class="section" id="customization">
<h2>Customization<a class="headerlink" href="#customization" title="Permalink to this headline">¶</a></h2>
<p>You can change some attributes before calling the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method if you want to change some of the precalculated
values:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.gnu</span> <span class="kn">import</span> <span class="n">AutotoolsToolchain</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">AutotoolsToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">configure_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--my_argument&quot;</span><span class="p">)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">generate</span><span class="p">()</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt><strong>configure_args</strong>: Additional arguments to be passed to the configure script.</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>By default the following arguments are passed:</dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">--prefix</span></code>: Takes <code class="docutils literal notranslate"><span class="pre">/</span></code> as default value.</li>
<li><code class="docutils literal notranslate"><span class="pre">--bindir=${prefix}/bin</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--sbindir=${prefix}/bin</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--libdir=${prefix}/lib</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--includedir=${prefix}/include</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--oldincludedir=${prefix}/include</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--datarootdir=${prefix}/res</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Also if the shared option exists it will add by default:</dt>
<dd><ul class="first last">
<li><code class="docutils literal notranslate"><span class="pre">--enable-shared</span></code>, <code class="docutils literal notranslate"><span class="pre">--disable-static</span></code> if <code class="docutils literal notranslate"><span class="pre">shared==True</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">--disable-shared</span></code>, <code class="docutils literal notranslate"><span class="pre">--enable-static</span></code> if <code class="docutils literal notranslate"><span class="pre">shared==False</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><strong>make_args</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code>): Additional arguments to be passed to he make script.</li>
<li><strong>autoreconf_args</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[&quot;--force&quot;,</span> <span class="pre">&quot;--install&quot;]</span></code>): Additional arguments to be passed to he make script.</li>
<li><strong>extra_defines</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code>): Additional defines.</li>
<li><strong>extra_cxxflags</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code>): Additional cxxflags.</li>
<li><strong>extra_cflags</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code>): Additional cflags.</li>
<li><strong>extra_ldflags</strong> (Defaulted to <code class="docutils literal notranslate"><span class="pre">[]</span></code>): Additional ldflags.</li>
<li><strong>ndebug</strong>: “NDEBUG” if the <code class="docutils literal notranslate"><span class="pre">settings.build_type</span></code> != <cite>Debug</cite>.</li>
<li><strong>gcc_cxx11_abi</strong>: “_GLIBCXX_USE_CXX11_ABI” if <code class="docutils literal notranslate"><span class="pre">gcc/libstdc++</span></code>.</li>
<li><strong>libcxx</strong>: Flag calculated from <code class="docutils literal notranslate"><span class="pre">settings.compiler.libcxx</span></code>.</li>
<li><strong>fpic</strong>: True/False from <code class="docutils literal notranslate"><span class="pre">options.fpic</span></code> if defined.</li>
<li><strong>cppstd</strong>: Flag from <code class="docutils literal notranslate"><span class="pre">settings.compiler.cppstd</span></code></li>
<li><strong>arch_flag</strong>: Flag from <code class="docutils literal notranslate"><span class="pre">settings.arch</span></code></li>
<li><strong>build_type_flags</strong>: Flags from <code class="docutils literal notranslate"><span class="pre">settings.build_type</span></code></li>
<li><strong>sysroot_flag</strong>: To pass the <code class="docutils literal notranslate"><span class="pre">--sysroot</span></code> flag to the compiler.</li>
<li><strong>apple_arch_flag</strong>: Only when cross-building with Apple systems. Flags from <code class="docutils literal notranslate"><span class="pre">settings.arch</span></code>.</li>
<li><strong>apple_isysroot_flag</strong>: Only when cross-building with Apple systems. Path to the root sdk.</li>
<li><strong>msvc_runtime_flag</strong>: Flag from <code class="docutils literal notranslate"><span class="pre">settings.compiler.runtime_type</span></code> when compiler is <code class="docutils literal notranslate"><span class="pre">msvc</span></code> or
<code class="docutils literal notranslate"><span class="pre">settings.compiler.runtime</span></code> when using the deprecated <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span></code>.</li>
</ul>
<p>The following attributes are ready-only and will contain the calculated values for the current configuration and customized
attributes. Some recipes might need to read them to generate custom build files (not strictly Autotools) with the configuration:</p>
<ul class="simple">
<li><strong>defines</strong></li>
<li><strong>cxxflags</strong></li>
<li><strong>cflags</strong></li>
<li><strong>ldflags</strong></li>
</ul>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.gnu</span> <span class="kn">import</span> <span class="n">AutotoolsToolchain</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tc</span> <span class="o">=</span> <span class="n">AutotoolsToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Customize the flags</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">extra_cxxflags</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;MyFlag&quot;</span><span class="p">]</span>
        <span class="c1"># Read the computed flags and use them (write custom files etc)</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">defines</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">cxxflags</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">cflags</span>
        <span class="n">tc</span><span class="o">.</span><span class="n">ldflags</span>
</pre></div>
</div>
<p>If you want to change the default values for <code class="docutils literal notranslate"><span class="pre">configure_args</span></code>, adjust the <code class="docutils literal notranslate"><span class="pre">cpp.package</span></code> object at the <code class="docutils literal notranslate"><span class="pre">layout()</span></code> method:</p>
<blockquote>
<div><div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="o">...</span>
    <span class="c1"># For bindir and sbindir takes the first value:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">bindirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mybin&quot;</span><span class="p">]</span>
    <span class="c1"># For libdir takes the first value:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">libdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;mylib&quot;</span><span class="p">]</span>
    <span class="c1"># For includedir and oldincludedir takes the first value:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">includedirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;myinclude&quot;</span><span class="p">]</span>
    <span class="c1"># For datarootdir takes the first value:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">cpp</span><span class="o">.</span><span class="n">package</span><span class="o">.</span><span class="n">resdirs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;myres&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is <strong>not valid</strong> to change the self.cpp_info  at the <code class="docutils literal notranslate"><span class="pre">package_info()</span></code> method.</p>
</div>
</div></blockquote>
<div class="section" id="customizing-the-environment">
<h3>Customizing the environment<a class="headerlink" href="#customizing-the-environment" title="Permalink to this headline">¶</a></h3>
<p>If your <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> or <code class="docutils literal notranslate"><span class="pre">configure</span></code> scripts need some other environment variable rather than <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>,
<code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code> or <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>, you can customize it before calling the <code class="docutils literal notranslate"><span class="pre">generate()</span></code> method.
Call the <code class="docutils literal notranslate"><span class="pre">environment()</span></code> method to calculate the mentioned variables and then add the variables that you need.
The <code class="docutils literal notranslate"><span class="pre">environment()</span></code> method returns an <a class="reference internal" href="../env/environment.html#conan-tools-env-environment-model"><span class="std std-ref">Environment</span></a> object:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">conan</span> <span class="kn">import</span> <span class="n">ConanFile</span>
<span class="kn">from</span> <span class="nn">conan.tools.gnu</span> <span class="kn">import</span> <span class="n">AutotoolsToolchain</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">ConanFile</span><span class="p">):</span>
    <span class="n">settings</span> <span class="o">=</span> <span class="s2">&quot;os&quot;</span><span class="p">,</span> <span class="s2">&quot;arch&quot;</span><span class="p">,</span> <span class="s2">&quot;compiler&quot;</span><span class="p">,</span> <span class="s2">&quot;build_type&quot;</span>

    <span class="k">def</span> <span class="nf">generate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">at</span> <span class="o">=</span> <span class="n">AutotoolsToolchain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">env</span> <span class="o">=</span> <span class="n">at</span><span class="o">.</span><span class="n">environment</span><span class="p">()</span>
        <span class="n">env</span><span class="o">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;FOO&quot;</span><span class="p">,</span> <span class="s2">&quot;BAR&quot;</span><span class="p">)</span>
        <span class="n">at</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">AutotoolsToolchain</span></code> also sets <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>, <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code> and <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code> reading
variables from the <code class="docutils literal notranslate"><span class="pre">[conf]</span></code> section in the profiles. <a class="reference internal" href="#conan-tools-gnu-autotools-toolchain-conf"><span class="std std-ref">See the conf reference below</span></a>.</p>
</div>
</div>
<div class="section" id="reference">
<h2>Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="conan.tools.gnu.autotoolstoolchain.AutotoolsToolchain">
<em class="property">class </em><code class="descname">AutotoolsToolchain</code><span class="sig-paren">(</span><em>conanfile</em>, <em>namespace=None</em><span class="sig-paren">)</span><a class="headerlink" href="#conan.tools.gnu.autotoolstoolchain.AutotoolsToolchain" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conanfile</strong> – The current recipe object. Always use <code class="docutils literal notranslate"><span class="pre">self</span></code>.</li>
<li><strong>namespace</strong> – This argument avoids collisions when you have multiple toolchain calls in
the same recipe. By setting this argument, the <em>conanbuild.conf</em> file used to pass
information to the build helper will be named as <em>&lt;namespace&gt;_conanbuild.conf</em>. The default
value is <code class="docutils literal notranslate"><span class="pre">None</span></code> meaning that the name of the generated file is <em>conanbuild.conf</em>. This
namespace must be also set with the same value in the constructor of the Autotools build
helper so that it reads the information from the proper file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section" id="conf">
<h3>conf<a class="headerlink" href="#conf" title="Permalink to this headline">¶</a></h3>
<ul class="simple" id="conan-tools-gnu-autotools-toolchain-conf">
<li><code class="docutils literal notranslate"><span class="pre">tools.build:cxxflags</span></code> list of extra C++ flags that will be used by <code class="docutils literal notranslate"><span class="pre">CXXFLAGS</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">tools.build:cflags</span></code> list of extra of pure C flags that will be used by <code class="docutils literal notranslate"><span class="pre">CFLAGS</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">tools.build:sharedlinkflags</span></code> list of extra linker flags that will be used by <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">tools.build:exelinkflags</span></code> list of extra linker flags that will be used by by <code class="docutils literal notranslate"><span class="pre">LDFLAGS</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">tools.build:defines</span></code> list of preprocessor definitions that will be used by <code class="docutils literal notranslate"><span class="pre">CPPFLAGS</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">tools.build:sysroot</span></code> defines the <code class="docutils literal notranslate"><span class="pre">--sysroot</span></code> flag to the compiler.</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="autotools.html" class="btn btn-neutral float-right" title="Autotools" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="autotoolsdeps.html" class="btn btn-neutral" title="AutotoolsDeps" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2022, JFrog.
      Last updated on Nov 11, 2022.
      <span><a href="#" class="ot-sdk-show-settings">Cookies Settings</a></span>
    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <!--<span class="fa fa-pencil-square-o"> Other versions:</span> -->
      Version: 2.0
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          
            <dd><a href="/en/1.54/index.html">1.54</a></dd>
          
        
          
            <dd><a href="/en/1.53/index.html">1.53</a></dd>
          
        
          
            <dd><a href="/en/1.52/index.html">1.52</a></dd>
          
        
          
            <dd><a href="/en/1.51/index.html">1.51</a></dd>
          
        
          
            <dd><a href="/en/1.50/index.html">1.50</a></dd>
          
        
          
            <dd><a href="/en/1.49/index.html">1.49</a></dd>
          
        
          
            <dd><a href="/en/1.48/index.html">1.48</a></dd>
          
        
          
            <dd><a href="/en/1.47/index.html">1.47</a></dd>
          
        
          
            <dd><a href="/en/1.46/index.html">1.46</a></dd>
          
        
          
            <dd><a href="/en/1.45/index.html">1.45</a></dd>
          
        
          
            <dd><a href="/en/1.44/index.html">1.44</a></dd>
          
        
          
            <dd><a href="/en/1.43/index.html">1.43</a></dd>
          
        
          
            <dd><a href="/en/1.42/index.html">1.42</a></dd>
          
        
          
            <dd><a href="/en/1.41/index.html">1.41</a></dd>
          
        
          
            <dd><a href="/en/1.40/index.html">1.40</a></dd>
          
        
          
            <dd><a href="/en/1.39/index.html">1.39</a></dd>
          
        
          
            <dd><a href="/en/1.38/index.html">1.38</a></dd>
          
        
          
            <dd><a href="/en/1.37/index.html">1.37</a></dd>
          
        
          
            <dd><a href="/en/1.36/index.html">1.36</a></dd>
          
        
          
            <dd><a href="/en/1.35/index.html">1.35</a></dd>
          
        
          
            <dd><a href="/en/1.34/index.html">1.34</a></dd>
          
        
          
            <dd><a href="/en/1.33/index.html">1.33</a></dd>
          
        
          
            <dd><a href="/en/1.32/index.html">1.32</a></dd>
          
        
          
            <dd><a href="/en/1.31/index.html">1.31</a></dd>
          
        
          
            <dd><a href="/en/1.30/index.html">1.30</a></dd>
          
        
          
            <dd><a href="/en/1.29/index.html">1.29</a></dd>
          
        
          
            <dd><a href="/en/1.28/index.html">1.28</a></dd>
          
        
          
            <dd><a href="/en/1.27/index.html">1.27</a></dd>
          
        
          
            <dd><a href="/en/1.26/index.html">1.26</a></dd>
          
        
          
            <dd><a href="/en/1.25/index.html">1.25</a></dd>
          
        
          
            <dd><a href="/en/1.24/index.html">1.24</a></dd>
          
        
          
            <dd><a href="/en/1.23/index.html">1.23</a></dd>
          
        
          
            <dd><a href="/en/1.22/index.html">1.22</a></dd>
          
        
          
            <dd><a href="/en/1.21/index.html">1.21</a></dd>
          
        
          
            <dd><a href="/en/1.20/index.html">1.20</a></dd>
          
        
          
            <dd><a href="/en/1.19/index.html">1.19</a></dd>
          
        
          
            <dd><a href="/en/1.18/index.html">1.18</a></dd>
          
        
          
            <dd><a href="/en/1.17/index.html">1.17</a></dd>
          
        
          
            <dd><a href="/en/1.16/index.html">1.16</a></dd>
          
        
          
            <dd><a href="/en/1.15/index.html">1.15</a></dd>
          
        
          
            <dd><a href="/en/1.14/index.html">1.14</a></dd>
          
        
          
            <dd><a href="/en/1.13/index.html">1.13</a></dd>
          
        
          
            <dd><a href="/en/1.12/index.html">1.12</a></dd>
          
        
          
            <dd><a href="/en/1.11/index.html">1.11</a></dd>
          
        
          
            <dd><a href="/en/1.10/index.html">1.10</a></dd>
          
        
          
            <dd><a href="/en/1.9/index.html">1.9</a></dd>
          
        
          
            <dd><a href="/en/1.8/index.html">1.8</a></dd>
          
        
          
            <dd><a href="/en/1.7/index.html">1.7</a></dd>
          
        
          
            <dd><a href="/en/1.6/index.html">1.6</a></dd>
          
        
          
            <dd><a href="/en/1.5/index.html">1.5</a></dd>
          
        
          
            <dd><a href="/en/1.4/index.html">1.4</a></dd>
          
        
          
            <dd><a href="/en/1.3/index.html">1.3</a></dd>
          
        
          
            <dd><a href="/en/2.0/index.html">2.0</a></dd>
          
        
          
            <dd><a href="/en/latest/index.html">latest</a></dd>
          
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="/en/2.0/conan.pdf">PDF</a></dd>
        
      </dl>
    </div>
  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'2.0.0-beta',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
  <script src="../../../_static/js/modernizr.min.js"></script>
  <script src="../../../_static/js/search.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.7/js/select2.min.js"></script>
-->
  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  


  <script>
    // initSearch("2.0");
  </script>

<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WK44ZFM" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


 


</body>
</html>